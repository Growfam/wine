<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WINIX - –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–∞</title>
    <link rel="stylesheet" href="css/referrals/styles.css">
    <link rel="stylesheet" href="css/referrals/animations.css">
    <link rel="stylesheet" href="css/referrals/winix-icons.css">
    <link rel="stylesheet" href="css/referrals/referrals.css">
    <link rel="stylesheet" href="css/referrals/referrals-animations.css">
    <link rel="stylesheet" href="css/referrals/referrals-tabs.css">
    <link rel="stylesheet" href="css/referrals/referral-levels.css">
    <link rel="stylesheet" href="css/referrals/referral-structure.css">
    <link rel="stylesheet" href="css/referrals/percentage-rewards.css">
    <link rel="stylesheet" href="css/referrals/referral-activity.css">
    <link rel="stylesheet" href="css/referrals/badges-tasks.css">
    <link rel="stylesheet" href="css/referrals/referral-tabs-fix.css">
    <link rel="preload" href="assets/badges-icons.svg" as="image" type="image/svg+xml">
</head>
<body>
    <!-- SVG —Ñ—ñ–ª—å—Ç—Ä–∏ –¥–ª—è —ñ–∫–æ–Ω–æ–∫ -->
    <svg class="winix-filters">
      <defs>
        <!-- –°–∏–Ω—î —Å–≤—ñ—Ç—ñ–Ω–Ω—è -->
        <filter id="blue-glow" x="-50%" y="-50%" width="200%" height="200%">
          <feGaussianBlur in="SourceGraphic" stdDeviation="1.5" result="blur" />
          <feFlood flood-color="#4EB5F7" flood-opacity="0.5" result="color" />
          <feComposite in="color" in2="blur" operator="in" result="glow" />
          <feMerge>
            <feMergeNode in="glow" />
            <feMergeNode in="SourceGraphic" />
          </feMerge>
        </filter>

        <!-- –ë—ñ—Ä—é–∑–æ–≤–µ —Å–≤—ñ—Ç—ñ–Ω–Ω—è -->
        <filter id="teal-glow" x="-50%" y="-50%" width="200%" height="200%">
          <feGaussianBlur in="SourceGraphic" stdDeviation="1.5" result="blur" />
          <feFlood flood-color="#00C9A7" flood-opacity="0.5" result="color" />
          <feComposite in="color" in2="blur" operator="in" result="glow" />
          <feMerge>
            <feMergeNode in="glow" />
            <feMergeNode in="SourceGraphic" />
          </feMerge>
        </filter>

        <!-- –ó–æ–ª–æ—Ç–µ —Å–≤—ñ—Ç—ñ–Ω–Ω—è -->
        <filter id="gold-glow" x="-50%" y="-50%" width="200%" height="200%">
          <feGaussianBlur in="SourceGraphic" stdDeviation="1.5" result="blur" />
          <feFlood flood-color="#FFD700" flood-opacity="0.5" result="color" />
          <feComposite in="color" in2="blur" operator="in" result="glow" />
          <feMerge>
            <feMergeNode in="glow" />
            <feMergeNode in="SourceGraphic" />
          </feMerge>
        </filter>
      </defs>
    </svg>

    <div class="container">
        <!-- –®–∞–ø–∫–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ -->
        <header class="header" style="color: white;">
            <div class="user-profile">
                <div class="profile-avatar">W</div>
                <div class="user-id-container">
                    <div class="user-id-label">–í–∞—à ID</div>
                    <div class="user-id-value" id="header-user-id">Loading...</div>
                </div>
            </div>
            <div class="winix-title">WINIX</div>
            <div class="balance-container">
                <div class="jeton-balance">
                    <div class="balance-value" id="user-coins">750</div>
                    <div class="balance-label">Ticket</div>
                </div>
                <div class="winix-balance">
                    <div class="balance-value" id="user-tokens">1250</div>
                    <div class="balance-label">Winix</div>
                </div>
            </div>
        </header>

        <!-- –û—Å–Ω–æ–≤–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
        <section class="category-card referral-section">
            <h2 class="category-title">–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞ –ø—Ä–æ–≥—Ä–∞–º–∞</h2>

            <!-- –ì–æ–ª–æ–≤–Ω—ñ –≤–∫–ª–∞–¥–∫–∏ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ—ó —Å–∏—Å—Ç–µ–º–∏ -->
            <div class="main-tabs">
                <div class="tab-button active" data-tab="referrals">–†–µ—Ñ–µ—Ä–∞–ª–∏</div>
                <div class="tab-button" data-tab="badges">–ë–µ–π–¥–∂—ñ</div>
                <div class="tab-button" data-tab="statistics">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</div>
            </div>

            <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –≤–∫–ª–∞–¥–æ–∫ -->
            <div class="tab-content">
                <!-- –í–ö–õ–ê–î–ö–ê 1: –†–ï–§–ï–†–ê–õ–ò -->
                <div class="main-tab-pane active" id="referrals-tab">
                    <!-- –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è -->
                    <div class="rewards-container">
                        <h3 class="referral-subtitle">–í–∞—à–µ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è</h3>
                        <div class="rewards-box" style="flex-direction: column;">
                            <div class="reward-item">
                                <div style="width: 100%; text-align: center; display: flex; flex-direction: column; align-items: center;">
                                    <div class="link-display" style="width: 100%; margin-bottom: 15px;">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</div>
                                    <button class="copy-button" style="margin-top: 10px; width: 100%; display: flex; justify-content: center;">
                                        <span class="copy-icon"></span>
                                        <span class="button-text">–ö–æ–ø—ñ—é–≤–∞—Ç–∏</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <p class="referral-info">
                            –î—ñ–ª—ñ—Ç—å—Å—è —Å–≤–æ—ó–º –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º —Ç–∞ –∑–∞—Ä–æ–±–ª—è–π—Ç–µ –∑ –∫–æ–∂–Ω–æ–≥–æ —Ä–µ—Ñ–µ—Ä–∞–ª–∞!
                        </p>
                    </div>

                    <!-- –í–∏–Ω–∞–≥–æ—Ä–æ–¥–∏ -->
                    <div class="rewards-container">
                        <h3 class="referral-subtitle">–í–∞—à—ñ –≤–∏–Ω–∞–≥–æ—Ä–æ–¥–∏</h3>
                        <div class="rewards-box">
                            <div class="reward-item">
                                <div class="reward-icon direct-bonus-icon"></div>
                                <div class="reward-details">
                                    <div class="reward-title">–ë–æ–Ω—É—Å –∑–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–∞</div>
                                    <div class="reward-description"><span class="bonus-amount">50</span> winix –∑–∞ –∫–æ–∂–Ω–æ–≥–æ –Ω–æ–≤–æ–≥–æ —Ä–µ—Ñ–µ—Ä–∞–ª–∞</div>
                                </div>
                            </div>
                            <div class="reward-item">
                                <div class="reward-icon percentage-icon"></div>
                                <div class="reward-details">
                                    <div class="reward-title">–í—ñ–¥—Å–æ—Ç–∫–∏ –≤—ñ–¥ –ø—Ä–∏–±—É—Ç–∫—É</div>
                                    <div class="reward-description">10% –≤—ñ–¥ —Ä–µ—Ñ–µ—Ä–∞–ª—ñ–≤ 1-–≥–æ —Ä—ñ–≤–Ω—è, 5% –≤—ñ–¥ 2-–≥–æ —Ä—ñ–≤–Ω—è</div>
                                </div>
                            </div>
                            <div class="reward-item">
                                <div class="reward-icon badge-icon"></div>
                                <div class="reward-details">
                                    <div class="reward-title">–ë–µ–π–¥–∂—ñ —Ç–∞ –∑–∞–≤–¥–∞–Ω–Ω—è</div>
                                    <div class="reward-description">–û—Ç—Ä–∏–º—É–π—Ç–µ –≤–∏–Ω–∞–≥–æ—Ä–æ–¥–∏ –∑–∞ –±–µ–π–¥–∂—ñ —Ç–∞ –≤–∏–∫–æ–Ω–∞–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- –Ü—Å—Ç–æ—Ä—ñ—è –±–æ–Ω—É—Å—ñ–≤ -->
                    <div class="bonus-history-container">
                        <h3 class="referral-subtitle">–Ü—Å—Ç–æ—Ä—ñ—è –±–æ–Ω—É—Å—ñ–≤</h3>
                        <div class="bonus-history-items">
                            <p style="color: #888; text-align: center;">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —ñ—Å—Ç–æ—Ä—ñ—ó –±–æ–Ω—É—Å—ñ–≤...</p>
                        </div>
                    </div>

                    <!-- –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è -->
                    <div class="instructions-container">
                        <h3 class="referral-subtitle">–Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î?</h3>
                        <div class="instructions-box">
                            <div class="instruction-step">
                                <div class="step-number">1</div>
                                <div class="step-details">
                                    <div class="step-title">–ü–æ–¥—ñ–ª—ñ—Ç—å—Å—è —Å–≤–æ—ó–º –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º</div>
                                    <div class="step-description">–í—ñ–¥–ø—Ä–∞–≤—Ç–µ —Å–≤–æ—î —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –¥—Ä—É–∑—è–º —á–µ—Ä–µ–∑ –º–µ—Å–µ–Ω–¥–∂–µ—Ä–∏ –∞–±–æ —Å–æ—Ü—ñ–∞–ª—å–Ω—ñ –º–µ—Ä–µ–∂—ñ</div>
                                </div>
                            </div>
                            <div class="instruction-step">
                                <div class="step-number">2</div>
                                <div class="step-details">
                                    <div class="step-title">–ü—Ä–∏–≤–µ–¥—ñ—Ç—å –Ω–æ–≤–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤</div>
                                    <div class="step-description">–ö–æ–ª–∏ –Ω–æ–≤—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ —Ä–µ—î—Å—Ç—Ä—É—é—Ç—å—Å—è –∑–∞ –≤–∞—à–∏–º –ø–æ—Å–∏–ª–∞–Ω–Ω—è–º, –≤–æ–Ω–∏ —Å—Ç–∞—é—Ç—å –≤–∞—à–∏–º–∏ —Ä–µ—Ñ–µ—Ä–∞–ª–∞–º–∏</div>
                                </div>
                            </div>
                            <div class="instruction-step">
                                <div class="step-number">3</div>
                                <div class="step-details">
                                    <div class="step-title">–û—Ç—Ä–∏–º—É–π—Ç–µ –≤–∏–Ω–∞–≥–æ—Ä–æ–¥–∏</div>
                                    <div class="step-description">–ó–∞—Ä–æ–±–ª—è–π—Ç–µ <span class="bonus-amount">50</span> winix –∑–∞ –∫–æ–∂–Ω–æ–≥–æ —Ä–µ—Ñ–µ—Ä–∞–ª–∞, –≤—ñ–¥—Å–æ—Ç–∫–∏ –≤—ñ–¥ —ó—Ö–Ω—å–æ–≥–æ –ø—Ä–∏–±—É—Ç–∫—É —Ç–∞ –≤–∏–Ω–∞–≥–æ—Ä–æ–¥–∏ –∑–∞ –±–µ–π–¥–∂—ñ</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- –í–ö–õ–ê–î–ö–ê 2: –ë–ï–ô–î–ñ–Ü -->
                <div class="main-tab-pane" id="badges-tab">
                    <!-- SVG –¥–ª—è –±–µ–π–¥–∂—ñ–≤ -->
                    <div style="display: none;">
                        <svg width="0" height="0">
                            <defs>
                                <!-- –ì—Ä–∞–¥—ñ—î–Ω—Ç –¥–ª—è –±–µ–π–¥–∂—É "–°–º—ñ–ª–∏–≤–µ—Ü—å" -->
                                <linearGradient id="brave-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" stop-color="#ff7e5f" />
                                    <stop offset="100%" stop-color="#feb47b" />
                                </linearGradient>

                                <!-- –ì—Ä–∞–¥—ñ—î–Ω—Ç –¥–ª—è –±–µ–π–¥–∂—É "–ù–æ–≤–∞—Ç–æ—Ä" -->
                                <linearGradient id="innovator-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" stop-color="#4eb5f7" />
                                    <stop offset="100%" stop-color="#2b6ecf" />
                                </linearGradient>

                                <!-- –ì—Ä–∞–¥—ñ—î–Ω—Ç –¥–ª—è –±–µ–π–¥–∂—É "–õ–µ–≥–µ–Ω–¥–∞" -->
                                <linearGradient id="legend-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" stop-color="#FFD700" />
                                    <stop offset="100%" stop-color="#FFA500" />
                                </linearGradient>

                                <!-- –ì—Ä–∞–¥—ñ—î–Ω—Ç –¥–ª—è –±–µ–π–¥–∂—É "–í—ñ–∑—ñ–æ–Ω–µ—Ä" -->
                                <linearGradient id="visionary-gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                    <stop offset="0%" stop-color="#8E24AA" />
                                    <stop offset="100%" stop-color="#3F51B5" />
                                </linearGradient>
                            </defs>
                        </svg>
                    </div>


                    <!-- –ù–∞—Å—Ç—É–ø–Ω–∏–π –±–µ–π–¥–∂ -->
                    <div class="next-badge-container">
                        <div class="next-badge-info">
                            <div class="next-badge-title">–ù–∞—Å—Ç—É–ø–Ω–∏–π –±–µ–π–¥–∂: –°–º—ñ–ª–∏–≤–µ—Ü—å</div>
                            <div class="next-badge-progress">
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 0%"></div>
                                </div>
                                <div class="progress-text">0% (0/25)</div>
                            </div>
                            <div class="next-badge-remaining">–ó–∞–ª–∏—à–∏–ª–æ—Å—å: 25 —Ä–µ—Ñ–µ—Ä–∞–ª—ñ–≤</div>
                        </div>
                    </div>

                    <!-- –°–ø–∏—Å–æ–∫ –±–µ–π–¥–∂—ñ–≤ -->
                    <div class="badges-list-container">
                        <h3 class="referral-subtitle">–ë–µ–π–¥–∂—ñ –∑–∞ –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—è</h3>
                        <div class="badges-list" id="badges-list">
                            <!-- –ë–µ–π–¥–∂ "–°–º—ñ–ª–∏–≤–µ—Ü—å" (–∑–∞–º—ñ—Å—Ç—å –ë—Ä–æ–Ω–∑–æ–≤–∏–π) -->
                            <div class="badge-item not-eligible">
                                <div class="badge-icon brave-icon"></div>
                                <div class="badge-info">
                                    <div class="badge-title">–°–º—ñ–ª–∏–≤–µ—Ü—å</div>
                                    <div class="badge-description">–ó–∞–ª—É—á—ñ—Ç—å <span class="bronze-threshold">25</span> —Ä–µ—Ñ–µ—Ä–∞–ª—ñ–≤</div>
                                    <div class="badge-reward">–í–∏–Ω–∞–≥–æ—Ä–æ–¥–∞: <span class="bronze-reward">2500</span> winix</div>
                                    <div class="badge-progress-container">
                                        <div class="badge-progress-bar">
                                            <div class="badge-progress-fill bronze-progress" style="width: 0%"></div>
                                        </div>
                                        <div class="badge-progress-text">0% (0/25)</div>
                                    </div>
                                    <button class="claim-badge-button" data-badge="BRONZE" disabled>–ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ</button>
                                </div>
                            </div>

                            <!-- –ë–µ–π–¥–∂ "–ù–æ–≤–∞—Ç–æ—Ä" (–∑–∞–º—ñ—Å—Ç—å –°—Ä—ñ–±–Ω–∏–π) -->
                            <div class="badge-item not-eligible">
                                <div class="badge-icon innovator-icon"></div>
                                <div class="badge-info">
                                    <div class="badge-title">–ù–æ–≤–∞—Ç–æ—Ä</div>
                                    <div class="badge-description">–ó–∞–ª—É—á—ñ—Ç—å <span class="silver-threshold">50</span> —Ä–µ—Ñ–µ—Ä–∞–ª—ñ–≤</div>
                                    <div class="badge-reward">–í–∏–Ω–∞–≥–æ—Ä–æ–¥–∞: <span class="silver-reward">5000</span> winix</div>
                                    <div class="badge-progress-container">
                                        <div class="badge-progress-bar">
                                            <div class="badge-progress-fill silver-progress" style="width: 0%"></div>
                                        </div>
                                        <div class="badge-progress-text">0% (0/50)</div>
                                    </div>
                                    <button class="claim-badge-button" data-badge="SILVER" disabled>–ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ</button>
                                </div>
                            </div>

                            <!-- –ë–µ–π–¥–∂ "–õ–µ–≥–µ–Ω–¥–∞" (–∑–∞–º—ñ—Å—Ç—å –ó–æ–ª–æ—Ç–∏–π) -->
                            <div class="badge-item not-eligible">
                                <div class="badge-icon legend-icon"></div>
                                <div class="badge-info">
                                    <div class="badge-title">–õ–µ–≥–µ–Ω–¥–∞</div>
                                    <div class="badge-description">–ó–∞–ª—É—á—ñ—Ç—å <span class="gold-threshold">100</span> —Ä–µ—Ñ–µ—Ä–∞–ª—ñ–≤</div>
                                    <div class="badge-reward">–í–∏–Ω–∞–≥–æ—Ä–æ–¥–∞: <span class="gold-reward">10000</span> winix</div>
                                    <div class="badge-progress-container">
                                        <div class="badge-progress-bar">
                                            <div class="badge-progress-fill gold-progress" style="width: 0%"></div>
                                        </div>
                                        <div class="badge-progress-text">0% (0/100)</div>
                                    </div>
                                    <button class="claim-badge-button" data-badge="GOLD" disabled>–ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ</button>
                                </div>
                            </div>

                            <!-- –ë–µ–π–¥–∂ "–í—ñ–∑—ñ–æ–Ω–µ—Ä" (–∑–∞–º—ñ—Å—Ç—å –ü–ª–∞—Ç–∏–Ω–æ–≤–∏–π) -->
                            <div class="badge-item not-eligible">
                                <div class="badge-icon visionary-icon"></div>
                                <div class="badge-info">
                                    <div class="badge-title">–í—ñ–∑—ñ–æ–Ω–µ—Ä</div>
                                    <div class="badge-description">–ó–∞–ª—É—á—ñ—Ç—å <span class="platinum-threshold">500</span> —Ä–µ—Ñ–µ—Ä–∞–ª—ñ–≤</div>
                                    <div class="badge-reward">–í–∏–Ω–∞–≥–æ—Ä–æ–¥–∞: <span class="platinum-reward">20000</span> winix</div>
                                    <div class="badge-progress-container">
                                        <div class="badge-progress-bar">
                                            <div class="badge-progress-fill platinum-progress" style="width: 0%"></div>
                                        </div>
                                        <div class="badge-progress-text">0% (0/500)</div>
                                    </div>
                                    <button class="claim-badge-button" data-badge="PLATINUM" disabled>–ù–µ–¥–æ—Å—Ç—É–ø–Ω–æ</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- –í–ö–õ–ê–î–ö–ê 3: –°–¢–ê–¢–ò–°–¢–ò–ö–ê -->
                <div class="main-tab-pane" id="statistics-tab">
                    <!-- –ö–∞—Ä—Ç–∫–∏ –∑ –ø–æ–∫–∞–∑–Ω–∏–∫–∞–º–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ -->
                    <div class="activity-stats-container">
                        <div class="activity-stats-card">
                            <div class="activity-stats-icon active-referrals-icon"></div>
                            <div class="activity-stats-value" id="active-referrals-count">0</div>
                            <div class="activity-stats-label">–ê–∫—Ç–∏–≤–Ω—ñ —Ä–µ—Ñ–µ—Ä–∞–ª–∏</div>
                        </div>
                        <div class="activity-stats-card">
                            <div class="activity-stats-icon inactive-referrals-icon"></div>
                            <div class="activity-stats-value" id="inactive-referrals-count">0</div>
                            <div class="activity-stats-label">–ù–µ–∞–∫—Ç–∏–≤–Ω—ñ —Ä–µ—Ñ–µ—Ä–∞–ª–∏</div>
                        </div>
                        <div class="activity-stats-card">
                            <div class="activity-stats-icon conversion-rate-icon"></div>
                            <div class="activity-stats-value" id="conversion-rate">0%</div>
                            <div class="activity-stats-label">–í—ñ–¥—Å–æ—Ç–æ–∫ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ</div>
                        </div>
                    </div>

                    <!-- –ö—Ä–∏—Ç–µ—Ä—ñ—ó –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ -->
                    <div class="activity-criteria-container">
                        <div class="activity-criteria-title">–ö—Ä–∏—Ç–µ—Ä—ñ—ó –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ —Ä–µ—Ñ–µ—Ä–∞–ª—ñ–≤</div>
                        <div class="activity-criteria-items">
                            <div class="activity-criteria-item">
                                <div class="activity-criteria-label">–ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ä–æ–∑—ñ–≥—Ä–∞—à—ñ–≤</div>
                                <div class="activity-criteria-value">3</div>
                            </div>
                            <div class="activity-criteria-item">
                                <div class="activity-criteria-label">–ú—ñ–Ω—ñ–º–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–ø—Ä–æ—à–µ–Ω–∏—Ö</div>
                                <div class="activity-criteria-value">1</div>
                            </div>
                            <div class="activity-criteria-item">
                                <div class="activity-criteria-label">–î–æ—Å—Ç–∞—Ç–Ω—å–æ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ö–æ—á–∞ –± –æ–¥–Ω–æ–≥–æ –∫—Ä–∏—Ç–µ—Ä—ñ—é</div>
                            </div>
                        </div>
                    </div>

                    <!-- –¢–∞–±–ª–∏—Ü—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ —Ä–µ—Ñ–µ—Ä–∞–ª—ñ–≤ -->
                    <div class="referral-activity-table">
                        <div class="activity-table-header">
                            <div class="activity-table-col activity-col-id">ID —Ä–µ—Ñ–µ—Ä–∞–ª–∞</div>
                            <div class="activity-table-col activity-col-draws">–†–æ–∑—ñ–≥—Ä–∞—à—ñ</div>
                            <div class="activity-table-col activity-col-invited">–ó–∞–ø—Ä–æ—à–µ–Ω—ñ</div>
                            <div class="activity-table-col activity-col-status">–°—Ç–∞—Ç—É—Å</div>
                        </div>
                        <div class="activity-table-body" id="activity-table-body">
                            <p style="color: #888; text-align: center; padding: 20px;">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –ø—Ä–æ –∞–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å...</p>
                        </div>
                    </div>

                    <!-- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó —â–æ–¥–æ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ -->
                    <div class="activity-recommendations">
                        <div class="recommendations-title">–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó</div>
                        <div class="recommendations-list" id="activity-recommendations">
                            <p style="color: white; margin-bottom: 10px;">–ó–∞–æ—Ö–æ—á—É–π—Ç–µ —Ä–µ—Ñ–µ—Ä–∞–ª—ñ–≤ –±—Ä–∞—Ç–∏ —É—á–∞—Å—Ç—å —É —Ä–æ–∑—ñ–≥—Ä–∞—à–∞—Ö (–º—ñ–Ω—ñ–º—É–º 3 –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ).</p>
                            <p style="color: white;">–ú–æ—Ç–∏–≤—É–π—Ç–µ —Ä–µ—Ñ–µ—Ä–∞–ª—ñ–≤ –∑–∞–ø—Ä–æ—à—É–≤–∞—Ç–∏ —ñ–Ω—à–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ (–¥–æ—Å—Ç–∞—Ç–Ω—å–æ 1 –∑–∞–ø—Ä–æ—à–µ–Ω–Ω—è –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ).</p>
                        </div>
                    </div>

                    <!-- –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ—Ñ–µ—Ä–∞–ª—ñ–≤ -->
                    <div class="referral-structure-container">
                        <h3 class="referral-subtitle">–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ—Ñ–µ—Ä–∞–ª—ñ–≤</h3>
                        <div class="structure-info">
                            <div class="structure-item">
                                <div class="structure-label">–ó–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å</div>
                                <div class="structure-value total-referrals-count">0</div>
                            </div>
                            <div class="structure-item">
                                <div class="structure-label">–ê–∫—Ç–∏–≤–Ω—ñ —Ä–µ—Ñ–µ—Ä–∞–ª–∏</div>
                                <div class="structure-value active-referrals-count">0</div>
                            </div>
                            <div class="structure-item">
                                <div class="structure-label">% –∫–æ–Ω–≤–µ—Ä—Å—ñ—ó</div>
                                <div class="structure-value conversion-rate">0%</div>
                            </div>
                        </div>

                        <!-- –í–∫–ª–∞–¥–∫–∏ –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É —Ä–µ—Ñ–µ—Ä–∞–ª—ñ–≤ -->
                        <div class="referral-tabs">
                            <div class="referral-tab active" data-tab="level1">1-–π —Ä—ñ–≤–µ–Ω—å</div>
                            <div class="referral-tab" data-tab="level2">2-–π —Ä—ñ–≤–µ–Ω—å</div>
                        </div>

                        <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –≤–∫–ª–∞–¥–æ–∫ -->
                        <div class="referral-tab-content">
                            <!-- –í–∫–ª–∞–¥–∫–∞ —Ä–µ—Ñ–µ—Ä–∞–ª—ñ–≤ 1-–≥–æ —Ä—ñ–≤–Ω—è -->
                            <div class="tab-pane active" id="level1-tab">
                                <div class="referral-list" id="level1-list">
                                    <p style="color: #888; text-align: center;">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ä–µ—Ñ–µ—Ä–∞–ª—ñ–≤ 1-–≥–æ —Ä—ñ–≤–Ω—è...</p>
                                </div>
                            </div>

                            <!-- –í–∫–ª–∞–¥–∫–∞ —Ä–µ—Ñ–µ—Ä–∞–ª—ñ–≤ 2-–≥–æ —Ä—ñ–≤–Ω—è -->
                            <div class="tab-pane" id="level2-tab">
                                <div class="referral-list" id="level2-list">
                                    <p style="color: #888; text-align: center;">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ä–µ—Ñ–µ—Ä–∞–ª—ñ–≤ 2-–≥–æ —Ä—ñ–≤–Ω—è...</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- –î–µ—Ç–∞–ª—ñ —Ä–µ—Ñ–µ—Ä–∞–ª–∞ (–ø–æ–∫–∞–∑—É—î—Ç—å—Å—è –ø—Ä–∏ –∫–ª—ñ–∫—É –Ω–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–∞) -->
            <div class="referral-details" id="referral-details">
                <div class="referral-details-header">
                    <div class="referral-details-title">–Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ —Ä–µ—Ñ–µ—Ä–∞–ª–∞</div>
                    <div class="referral-details-close">&times;</div>
                </div>
                <div class="referral-details-content">
                    <div class="detail-item">
                        <div class="detail-label">ID</div>
                        <div class="detail-value" id="detail-id">-</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">–î–∞—Ç–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó</div>
                        <div class="detail-value" id="detail-date">-</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">–°—Ç–∞—Ç—É—Å</div>
                        <div class="detail-value" id="detail-status">-</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">–ó–∞—Ä–æ–±—ñ—Ç–æ–∫</div>
                        <div class="detail-value" id="detail-earnings">-</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">–û—Å—Ç–∞–Ω–Ω—î –≤—ñ–¥–≤—ñ–¥—É–≤–∞–Ω–Ω—è</div>
                        <div class="detail-value" id="detail-last-activity">-</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">–ö—ñ–ª—å–∫—ñ—Å—Ç—å —Ä–µ—Ñ–µ—Ä–∞–ª—ñ–≤</div>
                        <div class="detail-value" id="detail-referral-count">-</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">–£—á–∞—Å—Ç—å –≤ —Ä–æ–∑—ñ–≥—Ä–∞—à–∞—Ö</div>
                        <div class="detail-value" id="detail-draws">-</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">–ó–∞–ø—Ä–æ—à–µ–Ω—ñ —Ä–µ—Ñ–µ—Ä–∞–ª–∏</div>
                        <div class="detail-value" id="detail-invited">-</div>
                    </div>
                    <div class="detail-item">
                        <div class="detail-label">–ü—Ä–∏—á–∏–Ω–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ</div>
                        <div class="detail-value" id="detail-activity-reason">-</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- –ù–∏–∂–Ω—è –Ω–∞–≤—ñ–≥–∞—Ü—ñ–π–Ω–∞ –ø–∞–Ω–µ–ª—å -->
        <nav class="nav-bar">
             <div class="nav-item" data-section="home">
                <div class="icon-wrapper">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M9 22V12H15V22" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <span>Home</span>
            </div>
            <div class="nav-item" data-section="earn">
                <div class="icon-wrapper">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <span>Earn</span>
            </div>
            <div class="nav-item active" data-section="referrals">
                <div class="icon-wrapper">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M17 21V19C17 17.9391 16.5786 16.9217 15.8284 16.1716C15.0783 15.4214 14.0609 15 13 15H5C3.93913 15 2.92172 15.4214 2.17157 16.1716C1.42143 16.9217 1 17.9391 1 19V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <circle cx="9" cy="7" r="4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M23 21V19C22.9993 18.1137 22.7044 17.2528 22.1614 16.5523C21.6184 15.8519 20.8581 15.3516 20 15.13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M16 3.13C16.8604 3.35031 17.623 3.85071 18.1676 4.55232C18.7122 5.25392 19.0078 6.11683 19.0078 7.005C19.0078 7.89318 18.7122 8.75608 18.1676 9.45769C17.623 10.1593 16.8604 10.6597 16 10.88" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <span>Referral</span>
            </div>
            <div class="nav-item" data-section="wallet">
                <div class="icon-wrapper">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M21 8.5C21 7.83696 20.7366 7.20107 20.2678 6.73223C19.7989 6.26339 19.163 6 18.5 6H5.5C4.83696 6 4.20107 6.26339 3.73223 6.73223C3.26339 7.20107 3 7.83696 3 8.5M21 8.5V15.5C21 16.163 20.7366 16.7989 20.2678 17.2678C19.7989 17.7366 19.163 18 18.5 18H5.5C4.83696 18 4.20107 17.7366 3.73223 17.2678C3.26339 16.7989 3 16.163 3 15.5V8.5M21 8.5L12 13L3 8.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M12 10L12 17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M16 14L8 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <span>Wallet</span>
            </div>
            <div class="nav-item" data-section="general">
                <div class="icon-wrapper">
                    <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M12 1V9M12 15V23M4.22 4.22L8.46 8.46M15.54 15.54L19.78 19.78M1 12H9M15 12H23M4.22 19.78L8.46 15.54M15.54 8.46L19.78 4.22" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                <span>General</span>
            </div>
        </nav>
    </div>

    <!-- –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è -->
    <div class="toast-message" id="copy-toast">
        –ü–æ—Å–∏–ª–∞–Ω–Ω—è —Å–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ!
    </div>

    <style>
        .toast-message.warning {
            background-color: #ff9800;
            color: white;
        }

        .toast-message.error {
            background-color: #f44336;
            color: white;
        }

        .toast-message.success {
            background-color: #4caf50;
            color: white;
        }
    </style>

    <!-- –û—Å–Ω–æ–≤–Ω—ñ —Å–∫—Ä–∏–ø—Ç–∏ -->
    <script src="js/telegram-web-app.js"></script>

    <script>
        // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ Telegram WebApp
        (function() {
            console.log("üîÑ [TELEGRAM-INIT] ===== –ü–û–ß–ê–¢–û–ö –Ü–ù–Ü–¶–Ü–ê–õ–Ü–ó–ê–¶–Ü–á TELEGRAM WEBAPP =====");
            console.log("üïê [TELEGRAM-INIT] –ß–∞—Å:", new Date().toISOString());
            console.log("üìä [TELEGRAM-INIT] –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≥–ª–æ–±–∞–ª—å–Ω–∏—Ö –æ–±'—î–∫—Ç—ñ–≤:", {
                hasTelegram: typeof window.Telegram !== 'undefined',
                hasWebApp: window.Telegram && typeof window.Telegram.WebApp !== 'undefined'
            });

            if (!window.Telegram || !window.Telegram.WebApp) {
                console.error("‚ùå [TELEGRAM-INIT] Telegram WebApp API –Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ!");
                console.error("‚ùå [TELEGRAM-INIT] window.Telegram:", window.Telegram);
                return;
            }

            try {
                console.log("üîÑ [TELEGRAM-INIT] –í–∏–∫–ª–∏–∫ Telegram.WebApp.ready()...");
                window.Telegram.WebApp.ready();

                console.log("üîÑ [TELEGRAM-INIT] –í–∏–∫–ª–∏–∫ Telegram.WebApp.expand()...");
                window.Telegram.WebApp.expand();

                console.log("‚úÖ [TELEGRAM-INIT] Telegram WebApp —É—Å–ø—ñ—à–Ω–æ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ");
                console.log("üìä [TELEGRAM-INIT] WebApp –¥–∞–Ω—ñ:", {
                    version: window.Telegram.WebApp.version,
                    platform: window.Telegram.WebApp.platform,
                    colorScheme: window.Telegram.WebApp.colorScheme,
                    themeParams: window.Telegram.WebApp.themeParams,
                    initDataUnsafe: window.Telegram.WebApp.initDataUnsafe
                });

                if (window.Telegram.WebApp.initDataUnsafe && window.Telegram.WebApp.initDataUnsafe.user) {
                    const user = window.Telegram.WebApp.initDataUnsafe.user;
                    console.log("üë§ [TELEGRAM-INIT] –î–∞–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞:", {
                        id: user.id,
                        first_name: user.first_name,
                        last_name: user.last_name,
                        username: user.username,
                        language_code: user.language_code
                    });

                    const userId = parseInt(user.id);
                    localStorage.setItem('telegram_user_id', userId.toString());
                    console.log("‚úÖ [TELEGRAM-INIT] ID –∑–±–µ—Ä–µ–∂–µ–Ω–æ –≤ localStorage:", userId);

                    // –û–¥—Ä–∞–∑—É –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ ID –≤ DOM
                    setTimeout(function() {
                        console.log("üîÑ [TELEGRAM-INIT] –û–Ω–æ–≤–ª–µ–Ω–Ω—è ID –≤ DOM...");
                        const userIdElements = document.querySelectorAll('.user-id-value');
                        userIdElements.forEach(function(element, index) {
                            console.log(`  üîÑ [TELEGRAM-INIT] –û–Ω–æ–≤–ª–µ–Ω–Ω—è –µ–ª–µ–º–µ–Ω—Ç–∞ ${index}:`, element);
                            element.textContent = userId;
                        });
                    }, 100);
                } else {
                    console.warn("‚ö†Ô∏è [TELEGRAM-INIT] –î–∞–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –≤—ñ–¥—Å—É—Ç–Ω—ñ –≤ Telegram WebApp");
                    console.log("üìä [TELEGRAM-INIT] initDataUnsafe:", window.Telegram.WebApp.initDataUnsafe);
                }
            } catch (e) {
                console.error("‚ùå [TELEGRAM-INIT] –ö–†–ò–¢–ò–ß–ù–ê –ü–û–ú–ò–õ–ö–ê —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó Telegram WebApp:", e);
                console.error("‚ùå [TELEGRAM-INIT] Stack trace:", e.stack);
            }

            console.log("‚úÖ [TELEGRAM-INIT] ===== –ö–Ü–ù–ï–¶–¨ –Ü–ù–Ü–¶–Ü–ê–õ–Ü–ó–ê–¶–Ü–á TELEGRAM WEBAPP =====");
        })();
    </script>

    <script src="./js/api.js"></script>
    <script src="./js/referrals/api.js"></script>
    <script src="./js/auth.js"></script>
    <script src="./js/core.js"></script>

    <!-- –†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ñ –º–æ–¥—É–ª—ñ - –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—ñ JS —Ñ–∞–π–ª–∏ -->
    <script src="./js/referrals/constants.js"></script>
    <script src="./js/referrals/utils.js"></script>
    <script src="./js/referrals/services.js"></script>
    <script src="./js/referrals/store.js"></script>
    <script src="./js/referrals/Integration.js"></script>

    <!-- –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ—ó —Å–∏—Å—Ç–µ–º–∏ -->
    <script>
        console.log("üåü [MAIN] ===== –ü–û–ß–ê–¢–û–ö –ì–û–õ–û–í–ù–û–ì–û –°–ö–†–ò–ü–¢–£ =====");
        console.log("üïê [MAIN] –ß–∞—Å:", new Date().toISOString());

        function safeInitReferralModules() {
            console.log("üîÑ [MAIN] ===== safeInitReferralModules START =====");

            try {
                console.log("üìä [MAIN] –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∏—Ö –º–æ–¥—É–ª—ñ–≤...");

                // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —á–∏ –≤—Å—ñ –º–æ–¥—É–ª—ñ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω—ñ
                const moduleChecks = {
                    ReferralConstants: typeof window.ReferralConstants !== 'undefined',
                    ReferralUtils: typeof window.ReferralUtils !== 'undefined',
                    ReferralServices: typeof window.ReferralServices !== 'undefined',
                    ReferralAPI: typeof window.ReferralAPI !== 'undefined',
                    ReferralStore: typeof window.ReferralStore !== 'undefined',
                    initReferralSystem: typeof window.initReferralSystem === 'function'
                };

                console.log("üìä [MAIN] –°—Ç–∞—Ç—É—Å –º–æ–¥—É–ª—ñ–≤:", moduleChecks);

                const missingModules = [];
                Object.keys(moduleChecks).forEach(function(moduleName) {
                    if (!moduleChecks[moduleName]) {
                        missingModules.push(moduleName);
                    }
                });

                if (missingModules.length > 0) {
                    console.error("‚ùå [MAIN] –ö–†–ò–¢–ò–ß–ù–ê –ü–û–ú–ò–õ–ö–ê: –í—ñ–¥—Å—É—Ç–Ω—ñ –º–æ–¥—É–ª—ñ:", missingModules);
                    showErrorToast('–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –º–æ–¥—É–ª—ñ–≤: ' + missingModules.join(', '));
                    return;
                }

                console.log("‚úÖ [MAIN] –£—Å—ñ –º–æ–¥—É–ª—ñ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ —É—Å–ø—ñ—à–Ω–æ!");

                // –î–µ—Ç–∞–ª—å–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–æ–∂–Ω–æ–≥–æ –º–æ–¥—É–ª—è
                console.log("üìä [MAIN] –î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –º–æ–¥—É–ª—ñ:");
                console.log("  - ReferralConstants:", {
                    type: typeof window.ReferralConstants,
                    properties: Object.keys(window.ReferralConstants || {}).length
                });
                console.log("  - ReferralUtils:", {
                    type: typeof window.ReferralUtils,
                    methods: Object.keys(window.ReferralUtils || {}).length
                });
                console.log("  - ReferralServices:", {
                    type: typeof window.ReferralServices,
                    methods: Object.keys(window.ReferralServices || {}).length
                });
                console.log("  - ReferralAPI:", {
                    type: typeof window.ReferralAPI,
                    methods: Object.keys(window.ReferralAPI || {}).length
                });
                console.log("  - ReferralStore:", {
                    type: typeof window.ReferralStore,
                    properties: Object.keys(window.ReferralStore || {}).length
                });

                // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å API
                console.log("üè• [MAIN] –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ API...");
                if (window.ReferralAPI && window.ReferralAPI.checkAPIHealth) {
                    window.ReferralAPI.checkAPIHealth()
                        .then(function(isHealthy) {
                            console.log("üè• [MAIN] –†–µ–∑—É–ª—å—Ç–∞—Ç –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ API:", isHealthy);
                            if (!isHealthy) {
                                console.warn("‚ö†Ô∏è [MAIN] API –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π –∞–±–æ –º–∞—î –ø—Ä–æ–±–ª–µ–º–∏");
                                showErrorToast('API —Å–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è.');
                            }
                            startReferralSystem();
                        })
                        .catch(function(error) {
                            console.error("‚ùå [MAIN] –ü–æ–º–∏–ª–∫–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ API:", error);
                            showErrorToast('–ù–µ –≤–¥–∞–ª–æ—Å—è –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—è –¥–æ —Å–µ—Ä–≤–µ—Ä–∞.');
                            // –í—Å–µ –æ–¥–Ω–æ –Ω–∞–º–∞–≥–∞—î–º–æ—Å—è –∑–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–∏—Å—Ç–µ–º—É
                            startReferralSystem();
                        });
                } else {
                    console.log("‚ö†Ô∏è [MAIN] checkAPIHealth –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π, –ø—Ä–æ–ø—É—Å–∫–∞—î–º–æ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É");
                    startReferralSystem();
                }

            } catch (error) {
                console.error("‚ùå [MAIN] –ö–†–ò–¢–ò–ß–ù–ê –ü–û–ú–ò–õ–ö–ê –≤ safeInitReferralModules:", error);
                console.error("‚ùå [MAIN] Stack trace:", error.stack);
                showErrorToast('–ö—Ä–∏—Ç–∏—á–Ω–∞ –ø–æ–º–∏–ª–∫–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó');
            }
        }

        function startReferralSystem() {
            console.log("üöÄ [MAIN] ===== startReferralSystem START =====");
            console.log("üïê [MAIN] –ß–∞—Å:", new Date().toISOString());

            // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å ID –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
            const userId = getUserId();
            console.log("üë§ [MAIN] ID –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –¥–ª—è –∑–∞–ø—É—Å–∫—É:", userId);

            if (!userId) {
                console.error("‚ùå [MAIN] ID –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –≤—ñ–¥—Å—É—Ç–Ω—ñ–π! –ù–µ–º–æ–∂–ª–∏–≤–æ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–∏—Å—Ç–µ–º—É");
                showErrorToast('–ù–µ –≤–¥–∞–ª–æ—Å—è –æ—Ç—Ä–∏–º–∞—Ç–∏ ID –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞. –°–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Å—Ç–æ—Ä—ñ–Ω–∫—É.');
                return;
            }

            // –ó–∞–ø—É—Å–∫–∞—î–º–æ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—é —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–æ—ó —Å–∏—Å—Ç–µ–º–∏
            console.log("üîÑ [MAIN] –í–∏–∫–ª–∏–∫ window.initReferralSystem()...");

            window.initReferralSystem()
                .then(function(integration) {
                    console.log("üéâ [MAIN] ===== –†–ï–§–ï–†–ê–õ–¨–ù–ê –°–ò–°–¢–ï–ú–ê –£–°–ü–Ü–®–ù–û –Ü–ù–Ü–¶–Ü–ê–õ–Ü–ó–û–í–ê–ù–ê =====");
                    console.log("üìä [MAIN] –û—Ç—Ä–∏–º–∞–Ω–∏–π –æ–±'—î–∫—Ç integration:", {
                        type: typeof integration,
                        hasInit: typeof integration.init === 'function',
                        userId: integration.userId,
                        isInitialized: integration.isInitialized
                    });

                    // –î–æ–¥–∞—î–º–æ –≥–ª–æ–±–∞–ª—å–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –¥–ª—è –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è
                    window.debugReferrals = {
                        integration: integration,
                        constants: window.ReferralConstants,
                        utils: window.ReferralUtils,
                        services: window.ReferralServices,
                        api: window.ReferralAPI,
                        store: window.ReferralStore,
                        getState: function() {
                            if (integration && integration.store) {
                                return integration.store.getState();
                            }
                            return null;
                        },
                        reload: function() {
                            console.log("üîÑ [DEBUG] –ü–µ—Ä–µ–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö...");
                            if (integration && integration.loadInitialData) {
                                return integration.loadInitialData();
                            }
                        }
                    };

                    console.log("üîç [MAIN] –ù–∞–ª–∞–≥–æ–¥–∂—É–≤–∞–ª—å–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –¥–æ–¥–∞–Ω–æ –≤ window.debugReferrals");
                    console.log("üí° [MAIN] –ü—ñ–¥–∫–∞–∑–∫–∞: –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ window.debugReferrals –¥–ª—è –Ω–∞–ª–∞–≥–æ–¥–∂–µ–Ω–Ω—è");
                })
                .catch(function(error) {
                    console.error("‚ùå [MAIN] ===== –ü–û–ú–ò–õ–ö–ê –Ü–ù–Ü–¶–Ü–ê–õ–Ü–ó–ê–¶–Ü–á –†–ï–§–ï–†–ê–õ–¨–ù–û–á –°–ò–°–¢–ï–ú–ò =====");
                    console.error("‚ùå [MAIN] –¢–∏–ø –ø–æ–º–∏–ª–∫–∏:", error.name);
                    console.error("‚ùå [MAIN] –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è:", error.message);
                    console.error("‚ùå [MAIN] Stack trace:", error.stack);
                    showErrorToast('–ü–æ–º–∏–ª–∫–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó —Å–∏—Å—Ç–µ–º–∏: ' + error.message);
                });
        }

        function getUserId() {
            console.log("üîç [MAIN] === getUserId START ===");

            // –°–ø–æ—á–∞—Ç–∫—É –ø—Ä–æ–±—É—î–º–æ –∑ Telegram
            if (window.Telegram?.WebApp?.initDataUnsafe?.user?.id) {
                const tgId = parseInt(window.Telegram.WebApp.initDataUnsafe.user.id);
                console.log("‚úÖ [MAIN] ID –∑ Telegram WebApp:", tgId);
                return tgId;
            }

            // –ü–æ—Ç—ñ–º –∑ localStorage
            const telegramId = localStorage.getItem('telegram_user_id');
            const userId = localStorage.getItem('user_id');

            console.log("üìä [MAIN] ID –∑ localStorage:", {
                telegram_user_id: telegramId,
                user_id: userId
            });

            const storedId = telegramId || userId;
            if (storedId) {
                const numericId = parseInt(storedId);
                if (!isNaN(numericId)) {
                    console.log("‚úÖ [MAIN] ID –∑ localStorage:", numericId);
                    return numericId;
                }
            }

            // –î–µ–º–æ —Ä–µ–∂–∏–º - –ø–æ–∫–∞–∑—É—î–º–æ –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è
            console.error('‚ùå [MAIN] ID –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ –≤ –∂–æ–¥–Ω–æ–º—É –¥–∂–µ—Ä–µ–ª—ñ!');
            showErrorToast('–ù–µ –≤–¥–∞–ª–æ—Å—è –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–∞–Ω—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞');
            return null;
        }

        function showErrorToast(message) {
            console.log("üî¥ [MAIN] –ü–æ–∫–∞–∑ –ø–æ–º–∏–ª–∫–∏:", message);
            const toast = document.getElementById('copy-toast');
            if (toast) {
                toast.textContent = message;
                toast.classList.add('show', 'error');
                setTimeout(function() {
                    toast.classList.remove('show', 'error');
                }, 5000);
            }
        }

        // –ó–∞–ø—É—Å–∫–∞—î–º–æ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—é –ø—ñ—Å–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è DOM
        console.log("üìä [MAIN] document.readyState:", document.readyState);

        if (document.readyState === 'loading') {
            console.log("‚è≥ [MAIN] –û—á—ñ–∫—É—î–º–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è DOM...");
            document.addEventListener('DOMContentLoaded', function() {
                console.log("‚úÖ [MAIN] DOM –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ, –∑–∞–ø—É—Å–∫–∞—î–º–æ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—é");
                safeInitReferralModules();
            });
        } else {
            console.log("‚úÖ [MAIN] DOM –≤–∂–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ, –∑–∞–ø—É—Å–∫–∞—î–º–æ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—é");
            safeInitReferralModules();
        }
    </script>

    <!-- –í–±—É–¥–æ–≤–∞–Ω–∏–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó –±–∞–∑–æ–≤–æ—ó —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            console.log("üéØ [BASE-HANDLERS] ===== –Ü–ù–Ü–¶–Ü–ê–õ–Ü–ó–ê–¶–Ü–Ø –ë–ê–ó–û–í–ò–• –û–ë–†–û–ë–ù–ò–ö–Ü–í –ü–û–î–Ü–ô =====");
            console.log("üïê [BASE-HANDLERS] –ß–∞—Å:", new Date().toISOString());

            // 1. –û–±—Ä–æ–±–Ω–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –ø–æ—Å–∏–ª–∞–Ω–Ω—è
            const copyButton = document.querySelector('.copy-button');
            console.log("üîç [BASE-HANDLERS] –ü–æ—à—É–∫ –∫–Ω–æ–ø–∫–∏ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è:", {
                found: !!copyButton,
                element: copyButton
            });

            if (copyButton) {
                copyButton.addEventListener('click', function() {
                    console.log('üìã [BASE-HANDLERS] === –ö–õ–Ü–ö –ù–ê –ö–ù–û–ü–ö–£ –ö–û–ü–Ü–Æ–í–ê–ù–ù–Ø ===');

                    const linkDisplay = document.querySelector('.link-display');
                    const linkText = linkDisplay ? linkDisplay.textContent : null;

                    console.log('üìä [BASE-HANDLERS] –î–∞–Ω—ñ –¥–ª—è –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è:', {
                        hasLinkDisplay: !!linkDisplay,
                        linkText: linkText,
                        isLoading: linkText === '–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...'
                    });

                    if (linkText && linkText !== '–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...') {
                        console.log('üîÑ [BASE-HANDLERS] –°–ø—Ä–æ–±–∞ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è...');

                        if (navigator.clipboard && navigator.clipboard.writeText) {
                            console.log('üìã [BASE-HANDLERS] –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è Clipboard API...');

                            navigator.clipboard.writeText(linkText)
                                .then(function() {
                                    console.log('‚úÖ [BASE-HANDLERS] –£—Å–ø—ñ—à–Ω–æ —Å–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ Clipboard API');
                                    showSuccessToast('–ü–æ—Å–∏–ª–∞–Ω–Ω—è —Å–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ!');
                                    copyButton.classList.add('clicked');
                                    setTimeout(function() {
                                        copyButton.classList.remove('clicked');
                                    }, 300);
                                })
                                .catch(function(err) {
                                    console.error('‚ùå [BASE-HANDLERS] –ü–æ–º–∏–ª–∫–∞ Clipboard API:', err);
                                    showErrorToast('–ü–æ–º–∏–ª–∫–∞ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è');
                                });
                        } else {
                            // Fallback –¥–ª—è —Å—Ç–∞—Ä–∏—Ö –±—Ä–∞—É–∑–µ—Ä—ñ–≤
                            console.log('üìã [BASE-HANDLERS] Fallback –º–µ—Ç–æ–¥ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è...');
                            try {
                                const textArea = document.createElement('textarea');
                                textArea.value = linkText;
                                document.body.appendChild(textArea);
                                textArea.select();
                                const success = document.execCommand('copy');
                                document.body.removeChild(textArea);

                                console.log('üìã [BASE-HANDLERS] –†–µ–∑—É–ª—å—Ç–∞—Ç execCommand:', success);

                                if (success) {
                                    showSuccessToast('–ü–æ—Å–∏–ª–∞–Ω–Ω—è —Å–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ!');
                                } else {
                                    showErrorToast('–ü–æ–º–∏–ª–∫–∞ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è');
                                }
                            } catch (err) {
                                console.error('‚ùå [BASE-HANDLERS] –ü–æ–º–∏–ª–∫–∞ fallback –º–µ—Ç–æ–¥—É:', err);
                                showErrorToast('–ü–æ–º–∏–ª–∫–∞ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è');
                            }
                        }
                    } else {
                        console.warn('‚ö†Ô∏è [BASE-HANDLERS] –ü–æ—Å–∏–ª–∞–Ω–Ω—è —â–µ –Ω–µ –≥–æ—Ç–æ–≤–µ');
                        showErrorToast('–ü–æ—Å–∏–ª–∞–Ω–Ω—è —â–µ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è');
                    }
                });
                console.log("‚úÖ [BASE-HANDLERS] –û–±—Ä–æ–±–Ω–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ");
            }

            function showSuccessToast(message) {
                console.log('‚úÖ [BASE-HANDLERS] –ü–æ–∫–∞–∑ —É—Å–ø—ñ—à–Ω–æ–≥–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è:', message);
                const toast = document.getElementById('copy-toast');
                if (toast) {
                    toast.textContent = message;
                    toast.classList.add('show', 'success');
                    setTimeout(function() {
                        toast.classList.remove('show', 'success');
                    }, 3000);
                }
            }

            function showErrorToast(message) {
                console.log('‚ùå [BASE-HANDLERS] –ü–æ–∫–∞–∑ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫—É:', message);
                const toast = document.getElementById('copy-toast');
                if (toast) {
                    toast.textContent = message;
                    toast.classList.add('show', 'error');
                    setTimeout(function() {
                        toast.classList.remove('show', 'error');
                    }, 3000);
                }
            }

            // 2. –û–±—Ä–æ–±–Ω–∏–∫–∏ –¥–ª—è –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ—Ö –≤–∫–ª–∞–¥–æ–∫ —Ä–µ—Ñ–µ—Ä–∞–ª—ñ–≤ (—Ç—ñ–ª—å–∫–∏ 1-–π —ñ 2-–π —Ä—ñ–≤–µ–Ω—å)
            const tabs = document.querySelectorAll('.referral-tab');
            console.log("üîç [BASE-HANDLERS] –ó–Ω–∞–π–¥–µ–Ω–æ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ—Ö –≤–∫–ª–∞–¥–æ–∫:", tabs.length);

            tabs.forEach(function(tab, index) {
                tab.addEventListener('click', function() {
                    const tabId = tab.dataset.tab;
                    console.log(`üìë [BASE-HANDLERS] –ö–ª—ñ–∫ –Ω–∞ –≤–Ω—É—Ç—Ä—ñ—à–Ω—é –≤–∫–ª–∞–¥–∫—É ${index}:`, tabId);

                    // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —á–∏ —Ü–µ –≤–∞–ª—ñ–¥–Ω–∞ –≤–∫–ª–∞–¥–∫–∞ (—Ç—ñ–ª—å–∫–∏ level1 –∞–±–æ level2)
                    if (tabId !== 'level1' && tabId !== 'level2') {
                        console.warn("‚ö†Ô∏è [BASE-HANDLERS] –ù–µ–≤—ñ–¥–æ–º–∞ –≤–∫–ª–∞–¥–∫–∞:", tabId);
                        return;
                    }

                    // –í–∏–¥–∞–ª—è—î–º–æ –∫–ª–∞—Å active –∑ —É—Å—ñ—Ö –≤–∫–ª–∞–¥–æ–∫
                    tabs.forEach(function(t) {
                        t.classList.remove('active');
                    });

                    // –î–æ–¥–∞—î–º–æ –∫–ª–∞—Å active –¥–æ –æ–±—Ä–∞–Ω–æ—ó –≤–∫–ª–∞–¥–∫–∏
                    tab.classList.add('active');

                    // –ü—Ä–∏—Ö–æ–≤—É—î–º–æ –≤—Å—ñ –ø–∞–Ω–µ–ª—ñ
                    const panes = document.querySelectorAll('.tab-pane');
                    panes.forEach(function(pane) {
                        pane.classList.remove('active');
                    });

                    // –ü–æ–∫–∞–∑—É—î–º–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—É –ø–∞–Ω–µ–ª—å
                    const activePane = document.getElementById(tabId + '-tab');
                    if (activePane) {
                        activePane.classList.add('active');
                        console.log("‚úÖ [BASE-HANDLERS] –ê–∫—Ç–∏–≤–æ–≤–∞–Ω–æ –≤–Ω—É—Ç—Ä—ñ—à–Ω—é –ø–∞–Ω–µ–ª—å:", tabId);
                    }
                });
            });
            console.log("‚úÖ [BASE-HANDLERS] –û–±—Ä–æ–±–Ω–∏–∫–∏ –¥–ª—è –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ—Ö –≤–∫–ª–∞–¥–æ–∫ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ");

            // 3. –û–±—Ä–æ–±–Ω–∏–∫–∏ –¥–ª—è –≥–æ–ª–æ–≤–Ω–∏—Ö –≤–∫–ª–∞–¥–æ–∫
            const mainTabs = document.querySelectorAll('.main-tabs .tab-button');
            console.log("üîç [BASE-HANDLERS] –ó–Ω–∞–π–¥–µ–Ω–æ –≥–æ–ª–æ–≤–Ω–∏—Ö –≤–∫–ª–∞–¥–æ–∫:", mainTabs.length);

            mainTabs.forEach(function(tab, index) {
                tab.addEventListener('click', function() {
                    console.log(`üìë [BASE-HANDLERS] –ö–ª—ñ–∫ –Ω–∞ –≥–æ–ª–æ–≤–Ω—É –≤–∫–ª–∞–¥–∫—É ${index}:`, tab.dataset.tab);

                    // –í–∏–¥–∞–ª—è—î–º–æ –∫–ª–∞—Å active –∑ —É—Å—ñ—Ö –≤–∫–ª–∞–¥–æ–∫
                    mainTabs.forEach(function(t) {
                        t.classList.remove('active');
                    });

                    // –î–æ–¥–∞—î–º–æ –∫–ª–∞—Å active –¥–æ –æ–±—Ä–∞–Ω–æ—ó –≤–∫–ª–∞–¥–∫–∏
                    tab.classList.add('active');

                    // –û—Ç—Ä–∏–º—É—î–º–æ —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –≤–∫–ª–∞–¥–∫–∏
                    const tabId = tab.dataset.tab;

                    // –ü—Ä–∏—Ö–æ–≤—É—î–º–æ –≤—Å—ñ –ø–∞–Ω–µ–ª—ñ
                    const panes = document.querySelectorAll('.main-tab-pane');
                    panes.forEach(function(pane) {
                        pane.classList.remove('active');
                    });

                    // –ü–æ–∫–∞–∑—É—î–º–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—É –ø–∞–Ω–µ–ª—å
                    const activePane = document.getElementById(tabId + '-tab');
                    if (activePane) {
                        activePane.classList.add('active');
                        console.log("‚úÖ [BASE-HANDLERS] –ê–∫—Ç–∏–≤–æ–≤–∞–Ω–æ –≥–æ–ª–æ–≤–Ω—É –ø–∞–Ω–µ–ª—å:", tabId);
                    }
                });
            });
            console.log("‚úÖ [BASE-HANDLERS] –û–±—Ä–æ–±–Ω–∏–∫–∏ –¥–ª—è –≥–æ–ª–æ–≤–Ω–∏—Ö –≤–∫–ª–∞–¥–æ–∫ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ");

            // 4. –û–±—Ä–æ–±–Ω–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –∑–∞–∫—Ä–∏—Ç—Ç—è –¥–µ—Ç–∞–ª–µ–π —Ä–µ—Ñ–µ—Ä–∞–ª–∞
            const closeButton = document.querySelector('.referral-details-close');
            console.log("üîç [BASE-HANDLERS] –ö–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä–∏—Ç—Ç—è –¥–µ—Ç–∞–ª–µ–π:", !!closeButton);

            if (closeButton) {
                closeButton.addEventListener('click', function() {
                    console.log("‚ùå [BASE-HANDLERS] –ó–∞–∫—Ä–∏—Ç—Ç—è –¥–µ—Ç–∞–ª–µ–π —Ä–µ—Ñ–µ—Ä–∞–ª–∞");
                    const detailsContainer = document.getElementById('referral-details');
                    if (detailsContainer) {
                        detailsContainer.classList.remove('show');
                        console.log("‚úÖ [BASE-HANDLERS] –î–µ—Ç–∞–ª—ñ —Ä–µ—Ñ–µ—Ä–∞–ª–∞ –ø—Ä–∏—Ö–æ–≤–∞–Ω–æ");
                    }
                });
                console.log("‚úÖ [BASE-HANDLERS] –û–±—Ä–æ–±–Ω–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏ –∑–∞–∫—Ä–∏—Ç—Ç—è –¥–µ—Ç–∞–ª–µ–π –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ");
            }

            // 5. –û–±—Ä–æ–±–Ω–∏–∫–∏ –¥–ª—è –Ω–∏–∂–Ω—å–æ—ó –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó
const navItems = document.querySelectorAll('.nav-bar .nav-item');
console.log("üîç [BASE-HANDLERS] –ï–ª–µ–º–µ–Ω—Ç–∏ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó:", navItems.length);

navItems.forEach(function(item) {
    item.addEventListener('click', function(e) {
        e.preventDefault();
        const section = this.getAttribute('data-section');
        console.log("üìç [BASE-HANDLERS] –ü–µ—Ä–µ—Ö—ñ–¥ –¥–æ —Å–µ–∫—Ü—ñ—ó:", section);

        // –í–∏–∑–Ω–∞—á–∞—î–º–æ URL –¥–ª—è –∫–æ–∂–Ω–æ—ó —Å–µ–∫—Ü—ñ—ó
        let targetUrl = '';
        switch(section) {
            case 'home':
                targetUrl = 'original-index.html';
                break;
            case 'earn':
                targetUrl = 'earn.html';
                break;
            case 'referrals':
                // –ü–æ—Ç–æ—á–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ - –Ω—ñ—á–æ–≥–æ –Ω–µ —Ä–æ–±–∏–º–æ
                console.log("üìç [BASE-HANDLERS] –í–∂–µ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ —Ä–µ—Ñ–µ—Ä–∞–ª—ñ–≤");
                return;
            case 'wallet':
                targetUrl = 'wallet.html';
                break;
            case 'general':
                targetUrl = 'general.html';
                break;
            default:
                console.error("‚ùå [BASE-HANDLERS] –ù–µ–≤—ñ–¥–æ–º–∞ —Å–µ–∫—Ü—ñ—è:", section);
                return;
        }

        if (targetUrl) {
            console.log("üöÄ [BASE-HANDLERS] –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –Ω–∞:", targetUrl);
            window.location.href = targetUrl;
        }
    });
});
console.log("‚úÖ [BASE-HANDLERS] –û–±—Ä–æ–±–Ω–∏–∫–∏ –¥–ª—è –Ω–∏–∂–Ω—å–æ—ó –Ω–∞–≤—ñ–≥–∞—Ü—ñ—ó –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ");

            console.log("üéâ [BASE-HANDLERS] ===== –ë–ê–ó–û–í–Ü –û–ë–†–û–ë–ù–ò–ö–ò –ü–û–î–Ü–ô –£–°–ü–Ü–®–ù–û –Ü–ù–Ü–¶–Ü–ê–õ–Ü–ó–û–í–ê–ù–û =====");
        });
    </script>
</body>
</html>