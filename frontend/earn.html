<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta name="description" content="WINIX - –í–∏–∫–æ–Ω—É–π—Ç–µ –∑–∞–≤–¥–∞–Ω–Ω—è —Ç–∞ –∑–∞—Ä–æ–±–ª—è–π—Ç–µ —Ç–æ–∫–µ–Ω–∏">
    <meta name="theme-color" content="#1A1A2E">
    <title>WINIX - Earn</title>

    <!-- –í–ò–ü–†–ê–í–õ–ï–ù–û: –û–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω—ñ –∫—Ä–∏—Ç–∏—á–Ω—ñ —Å—Ç–∏–ª—ñ –¥–ª—è —Å—Ç–∞–±—ñ–ª—å–Ω–æ–≥–æ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è -->
    <style>
        /* –ë–∞–∑–æ–≤—ñ —Å—Ç–∏–ª—ñ –¥–ª—è –Ω–∞–π—à–≤–∏–¥—à–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥—É –∫–æ–Ω—Ç–µ–Ω—Ç—É */
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            background-color: #0F0F1A;
            color: #FFFFFF;
        }
        .container {
            max-width: 100%;
            margin: 0 auto;
            padding: 0;
            position: relative;
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 15px;
            background-color: #1A1A2E;
        }
        .loading-indicator {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            z-index: 1000;
        }
        .loading-indicator .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: #E94560;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* –í–ò–ü–†–ê–í–õ–ï–ù–û: –ö—Ä–∏—Ç–∏—á–Ω—ñ —Å—Ç–∏–ª—ñ –∑ –∫—Ä–∞—â–æ—é –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é –≤–∫–ª–∞–¥–æ–∫ —ñ –≤–∏–¥–∏–º–æ—Å—Ç—ñ –∫–æ–Ω—Ç–µ–Ω—Ç—É */
        .content-section {
            display: none;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .content-section.active {
            display: block;
            opacity: 1;
        }
        .tab {
            position: relative;
            cursor: pointer;
            user-select: none;
            touch-action: manipulation;
        }
        .tab.active {
            background: linear-gradient(135deg, #4eb5f7, #00C9A7);
            color: white;
            font-weight: bold;
        }

        /* –í–ò–ü–†–ê–í–õ–ï–ù–û: –°—Ç–∏–ª—ñ –¥–ª—è –≥–∞—Ä–∞–Ω—Ç—ñ—ó –≤–∏–¥–∏–º–æ—Å—Ç—ñ –∫–Ω–æ–ø–∫–∏ —â–æ–¥–µ–Ω–Ω–æ–≥–æ –±–æ–Ω—É—Å—É */
        #claim-daily {
            display: block !important;
            opacity: 1 !important;
            visibility: visible !important;
            position: relative !important;
            z-index: 10 !important;
            margin-top: 10px !important;
            padding: 10px 20px !important;
            border-radius: 8px !important;
            background: linear-gradient(135deg, #4eb5f7, #00C9A7) !important;
            color: white !important;
            font-weight: bold !important;
            border: none !important;
            cursor: pointer !important;
            transition: transform 0.2s ease, box-shadow 0.2s ease !important;
        }

        #claim-daily:hover:not(:disabled) {
            transform: translateY(-2px) !important;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2) !important;
        }

        #claim-daily:disabled {
            opacity: 0.7 !important;
            cursor: not-allowed !important;
        }

        #claim-daily.disabled {
            background: rgba(200, 200, 200, 0.5) !important;
            color: rgba(255, 255, 255, 0.8) !important;
        }

        /* –ù–∞–¥—ñ–π–Ω–∞ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –∫–Ω–æ–ø–∫–∏ –±–æ–Ω—É—Å—É */
        #daily-bonus-container {
            display: block !important;
            visibility: visible !important;
            opacity: 1 !important;
        }

        .daily-bonus {
            position: relative !important;
            display: flex !important;
            flex-direction: column !important;
            width: 100% !important;
            margin-bottom: 15px !important;
        }
    </style>

    <!-- –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –æ—Å–Ω–æ–≤–Ω–∏—Ö —Å—Ç–∏–ª—ñ–≤ -->
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/earn/styles.css">

    <!-- –ü–æ–ø–µ—Ä–µ–¥–Ω—î –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö —Ä–µ—Å—É—Ä—Å—ñ–≤ -->
    <link rel="preload" href="css/earn/components-tasks.css" as="style">
    <link rel="preload" href="js/core.js" as="script">
    <link rel="preload" href="js/tasks/index.js" as="script">

    <!-- –°—Ç–∏–ª—ñ –¥–ª—è –∑–∞–≤–¥–∞–Ω—å —Ç–∞ –∞–Ω—ñ–º–∞—Ü—ñ–π -->
    <link rel="stylesheet" href="css/earn/components-tasks.css">
    <link rel="stylesheet" href="css/earn/leaderboard.css">
    <link rel="stylesheet" href="css/earn/animations.css">
    <link rel="stylesheet" href="css/earn/premium-animations.css">
    <link rel="stylesheet" href="css/earn/premium-theme.css">
    <link rel="stylesheet" href="css/earn/winix-icons.css">

    <!-- –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è Telegram WebApp API –Ω–µ–≥–∞–π–Ω–æ -->
    <script src="js/telegram-web-app.js"></script>
</head>
<body>
<!-- –Ü–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è -->
<div id="initial-loading" class="loading-indicator">
    <div class="spinner"></div>
    <p>–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è...</p>
</div>

<svg class="winix-filters">
  <defs>
    <!-- –°–∏–Ω—î —Å–≤—ñ—Ç—ñ–Ω–Ω—è -->
    <filter id="blue-glow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur in="SourceGraphic" stdDeviation="1.5" result="blur" />
      <feFlood flood-color="#4EB5F7" flood-opacity="0.5" result="color" />
      <feComposite in="color" in2="blur" operator="in" result="glow" />
      <feMerge>
        <feMergeNode in="glow" />
        <feMergeNode in="SourceGraphic" />
      </feMerge>
    </filter>

    <!-- –ë—ñ—Ä—é–∑–æ–≤–µ —Å–≤—ñ—Ç—ñ–Ω–Ω—è -->
    <filter id="teal-glow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur in="SourceGraphic" stdDeviation="1.5" result="blur" />
      <feFlood flood-color="#00C9A7" flood-opacity="0.5" result="color" />
      <feComposite in="color" in2="blur" operator="in" result="glow" />
      <feMerge>
        <feMergeNode in="glow" />
        <feMergeNode in="SourceGraphic" />
      </feMerge>
    </filter>

    <!-- –ß–µ—Ä–≤–æ–Ω–µ —Å–≤—ñ—Ç—ñ–Ω–Ω—è -->
    <filter id="red-glow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur in="SourceGraphic" stdDeviation="1.5" result="blur" />
      <feFlood flood-color="#F44336" flood-opacity="0.5" result="color" />
      <feComposite in="color" in2="blur" operator="in" result="glow" />
      <feMerge>
        <feMergeNode in="glow" />
        <feMergeNode in="SourceGraphic" />
      </feMerge>
    </filter>

    <!-- –ó–æ–ª–æ—Ç–µ —Å–≤—ñ—Ç—ñ–Ω–Ω—è -->
    <filter id="gold-glow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur in="SourceGraphic" stdDeviation="1.5" result="blur" />
      <feFlood flood-color="#FFD700" flood-opacity="0.5" result="color" />
      <feComposite in="color" in2="blur" operator="in" result="glow" />
      <feMerge>
        <feMergeNode in="glow" />
        <feMergeNode in="SourceGraphic" />
      </feMerge>
    </filter>
  </defs>
</svg>
    <div class="container">
        <!-- –®–∞–ø–∫–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ -->
        <div class="header">
            <div class="user-profile" id="profile-link">
                <div class="profile-avatar" id="profile-avatar">W</div>
                <div class="user-id-container">
                    <span class="user-id-label" data-lang-key="user_id">ID:</span>
                    <span class="user-id-value" id="user-id"></span>
                </div>
            </div>
            <div class="winix-title">WINIX</div>
            <div class="balance-container">
                <div class="jeton-balance">
                    <div id="user-coins" class="balance-value">0</div>
                    <div class="balance-label" data-lang-key="coins">–ñ–µ—Ç–æ–Ω–∏</div>
                </div>
                <div class="winix-balance">
                    <div id="user-tokens" class="balance-value">0</div>
                    <div class="balance-label">$WINIX</div>
                </div>
            </div>
        </div>

        <!-- –ü–µ—Ä–µ–º–∏–∫–∞—á –∫–∞—Ç–µ–≥–æ—Ä—ñ–π –∑–∞–≤–¥–∞–Ω—å -->
        <div class="tabs">
            <div class="tab active" data-tab="social" data-lang-key="earn.social_networks">–°–æ—Ü—ñ–∞–ª—å–Ω—ñ</div>
            <div class="tab" data-tab="limited" data-lang-key="earn.limited_tasks">–õ—ñ–º—ñ—Ç–æ–≤–∞–Ω—ñ</div>
            <div class="tab" data-tab="partners" data-lang-key="earn.partners_tasks">–ü–∞—Ä—Ç–Ω–µ—Ä—Å—å–∫—ñ</div>
        </div>

        <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ –¥–ª—è —Ä—ñ–∑–Ω–∏—Ö —Ç–∏–ø—ñ–≤ –∑–∞–≤–¥–∞–Ω—å -->
        <!-- –°–æ—Ü—ñ–∞–ª—å–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è -->
        <div class="content-section active" id="social-content">
            <!-- –©–æ–¥–µ–Ω–Ω–∏–π –±–æ–Ω—É—Å -->
            <div class="category-card" id="daily-bonus-container">
                <div class="category-title" data-lang-key="earn.daily_bonus">–©–æ–¥–µ–Ω–Ω–∏–π –±–æ–Ω—É—Å</div>
                <div class="daily-bonus">
                    <div class="daily-bonus-bar">
                        <div class="daily-progress" id="daily-progress-container">
                            <!-- –î–Ω—ñ –≥–µ–Ω–µ—Ä—É—é—Ç—å—Å—è –¥–∏–Ω–∞–º—ñ—á–Ω–æ —á–µ—Ä–µ–∑ JS -->
                        </div>
                    </div>
                    <button class="claim-button" id="claim-daily" data-lang-key="earn.get">–û—Ç—Ä–∏–º–∞—Ç–∏ –±–æ–Ω—É—Å</button>
                </div>
            </div>

            <!-- –°–æ—Ü—ñ–∞–ª—å–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è -->
            <div class="category-card">
                <div class="category-title" data-lang-key="earn.social_networks">–°–æ—Ü—ñ–∞–ª—å–Ω—ñ –º–µ—Ä–µ–∂—ñ</div>
                <div class="task-container" id="social-tasks-container" aria-live="polite">
                    <!-- –°–æ—Ü—ñ–∞–ª—å–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è –≥–µ–Ω–µ—Ä—É—é—Ç—å—Å—è –¥–∏–Ω–∞–º—ñ—á–Ω–æ —á–µ—Ä–µ–∑ JS -->
                    <div class="task-loader">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–∞–≤–¥–∞–Ω—å...</div>
                </div>
            </div>

            <!-- –†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è -->
            <div class="category-card">
                <div class="category-title" data-lang-key="earn.referral_tasks">–†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è</div>
                <div class="task-container" id="referral-tasks-container" aria-live="polite">
                    <!-- –†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è –≥–µ–Ω–µ—Ä—É—é—Ç—å—Å—è –¥–∏–Ω–∞–º—ñ—á–Ω–æ —á–µ—Ä–µ–∑ JS -->
                    <div class="task-loader">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–∞–≤–¥–∞–Ω—å...</div>
                </div>
            </div>

            <!-- –õ—ñ–¥–µ—Ä—Å—å–∫–∞ –¥–æ—à–∫–∞ -->
            <div class="category-card">
                <div class="category-title" data-lang-key="earn.leaderboard">–õ—ñ–¥–µ—Ä—Å—å–∫–∞ –¥–æ—à–∫–∞</div>
                <div class="leaderboard-title" data-lang-key="earn.leaderboard.title">–¢–æ–ø-10 –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –∑ –Ω–∞–π–±—ñ–ª—å—à–æ—é –∫—ñ–ª—å–∫—ñ—Å—Ç—é –∑–∞–ø—Ä–æ—à–µ–Ω–∏—Ö –¥—Ä—É–∑—ñ–≤</div>
                <div class="leaderboard" id="leaderboard-container" aria-live="polite">
                    <!-- –õ—ñ–¥–µ—Ä—Å—å–∫–∞ –¥–æ—à–∫–∞ –≥–µ–Ω–µ—Ä—É—î—Ç—å—Å—è –¥–∏–Ω–∞–º—ñ—á–Ω–æ —á–µ—Ä–µ–∑ JS -->
                    <div class="leaderboard-loader">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –ª—ñ–¥–µ—Ä—Å—å–∫–æ—ó –¥–æ—à–∫–∏...</div>
                </div>
            </div>
        </div>

        <!-- –õ—ñ–º—ñ—Ç–æ–≤–∞–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è -->
        <div class="content-section" id="limited-content">
            <div class="category-card">
                <div class="category-title" data-lang-key="earn.limited_tasks">–û–±–º–µ–∂–µ–Ω—ñ –∑–∞ —á–∞—Å–æ–º –∑–∞–≤–¥–∞–Ω–Ω—è</div>
                <div class="task-container" id="limited-tasks-container" aria-live="polite">
                    <!-- –õ—ñ–º—ñ—Ç–æ–≤–∞–Ω—ñ –∑–∞–≤–¥–∞–Ω–Ω—è –≥–µ–Ω–µ—Ä—É—é—Ç—å—Å—è –¥–∏–Ω–∞–º—ñ—á–Ω–æ —á–µ—Ä–µ–∑ JS -->
                    <div class="task-loader">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–∞–≤–¥–∞–Ω—å...</div>
                </div>
            </div>
        </div>

        <!-- –ü–∞—Ä—Ç–Ω–µ—Ä—Å—å–∫—ñ –∑–∞–≤–¥–∞–Ω–Ω—è -->
        <div class="content-section" id="partners-content">
            <div class="category-card">
                <div class="category-title" data-lang-key="earn.partners_tasks">–ü–∞—Ä—Ç–Ω–µ—Ä—Å—å–∫—ñ –∑–∞–≤–¥–∞–Ω–Ω—è</div>
                <div class="task-container" id="partners-tasks-container" aria-live="polite">
                    <!-- –ü–∞—Ä—Ç–Ω–µ—Ä—Å—å–∫—ñ –∑–∞–≤–¥–∞–Ω–Ω—è –≥–µ–Ω–µ—Ä—É—é—Ç—å—Å—è –¥–∏–Ω–∞–º—ñ—á–Ω–æ —á–µ—Ä–µ–∑ JS -->
                    <div class="task-loader">–ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑–∞–≤–¥–∞–Ω—å...</div>
                </div>
            </div>
        </div>

        <!-- –ù–∏–∂–Ω—è –Ω–∞–≤—ñ–≥–∞—Ü—ñ–π–Ω–∞ –ø–∞–Ω–µ–ª—å -->
        <div class="nav-bar">
            <div class="nav-item" data-section="home">
                <div class="icon-wrapper">
                    <img src="assets/home-icon.png" alt="Home" loading="lazy" onerror="this.src='https://via.placeholder.com/35?text=Home'">
                </div>
                <span data-lang-key="home">Home</span>
            </div>
            <div class="nav-item active" data-section="earn">
                <div class="icon-wrapper">
                    <img src="assets/earn-icon.png" alt="Earn" loading="lazy" onerror="this.src='https://via.placeholder.com/35?text=Earn'">
                </div>
                <span data-lang-key="earn">Earn</span>
            </div>
            <div class="nav-item" data-section="referrals">
                <div class="icon-wrapper">
                    <img src="assets/referrals-icon.png" alt="Referrals" loading="lazy" onerror="this.src='https://via.placeholder.com/35?text=Referrals'">
                </div>
                <span data-lang-key="referrals">Referrals</span>
            </div>
            <div class="nav-item" data-section="wallet">
                <div class="icon-wrapper">
                    <img src="assets/wallet-icon.png" alt="Wallet" loading="lazy" onerror="this.src='https://via.placeholder.com/35?text=Wallet'">
                </div>
                <span data-lang-key="wallet">Wallet</span>
            </div>
            <div class="nav-item" data-section="general">
                <div class="icon-wrapper">
                    <img src="assets/general-icon.png" alt="General" loading="lazy" onerror="this.src='https://via.placeholder.com/35?text=General'">
                </div>
                <span data-lang-key="general">General</span>
            </div>
        </div>
    </div>

    <!-- –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –¥–ª—è –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è -->
    <div class="toast-message" id="toast-message" aria-live="assertive" role="alert">–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è —Å–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ –≤ –±—É—Ñ–µ—Ä –æ–±–º—ñ–Ω—É!</div>

    <!-- –í–ò–ü–†–ê–í–õ–ï–ù–û: –û–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∞ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å–∫—Ä–∏–ø—Ç—ñ–≤ -->
    <!-- –ü–µ—Ä—à–æ—á–µ—Ä–≥–æ–≤—ñ —Å–∫—Ä–∏–ø—Ç–∏ -->
    <script src="js/core.js"></script>
    <script src="js/api.js"></script>
    <script src="js/auth.js"></script>


    <!-- –ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏ –∑–∞–≤–¥–∞–Ω—å -->
    <script type="module">
    // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
    if (!window.WinixAPI) {
        console.error('‚ùå WinixAPI –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ api.js');
    }

    if (!window.WinixAuth) {
        console.error('‚ùå WinixAuth –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–æ auth.js');
    }

    if (!window.dependencyContainer) {
        console.warn('‚ö†Ô∏è dependencyContainer –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ. –¶–µ –º–æ–∂–µ –ø—Ä–∏–∑–≤–µ—Å—Ç–∏ –¥–æ –ø—Ä–æ–±–ª–µ–º —ñ–∑ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—è–º–∏.');
        // –°—Ç–≤–æ—Ä—é—î–º–æ –ø—Ä–æ—Å—Ç—É –∑–∞–≥–ª—É—à–∫—É –¥–ª—è DI-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
        window.dependencyContainer = {
            register: () => {},
            resolve: () => null,
            has: () => false
        };
    }

    // –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è getUserId, —è–∫—â–æ –≤—ñ–Ω –≤—ñ–¥—Å—É—Ç–Ω—ñ–π
    if (typeof window.getUserId !== 'function') {
        window.getUserId = function() {
            try {
                return localStorage.getItem('telegram_user_id') ||
                      (new URLSearchParams(window.location.search).get('id'));
            } catch (e) {
                console.error('‚ùå –ü–æ–º–∏–ª–∫–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è ID –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞:', e);
                return null;
            }
        };
    }

    // –Ü–º–ø–æ—Ä—Ç —Å–∏—Å—Ç–µ–º–∏ –∑–∞–≤–¥–∞–Ω—å –∑ –≤—ñ–¥–Ω–æ—Å–Ω–æ–≥–æ —à–ª—è—Ö—É
    let taskSystem;
    let importSuccess = false;
    try {
        taskSystem = await import('./js/tasks/index.js').then(module => module.default);
        console.log('‚úÖ –°–∏—Å—Ç–µ–º—É –∑–∞–≤–¥–∞–Ω—å —É—Å–ø—ñ—à–Ω–æ —ñ–º–ø–æ—Ä—Ç–æ–≤–∞–Ω–æ');
        importSuccess = true;
    } catch (error) {
        console.error('‚ùå –ù–µ –≤–¥–∞–ª–æ—Å—è —ñ–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ —Å–∏—Å—Ç–µ–º—É –∑–∞–≤–¥–∞–Ω—å:', error);

        // –ü–æ–∫–∞–∑—É—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫—É
        const toast = document.getElementById('toast-message');
        if (toast) {
            toast.textContent = '–ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏. –°–ø—Ä–æ–±—É–π—Ç–µ –æ–Ω–æ–≤–∏—Ç–∏ —Å—Ç–æ—Ä—ñ–Ω–∫—É.';
            toast.className = 'toast-message toast-error show';

            setTimeout(() => {
                toast.className = 'toast-message';
            }, 3000);
        }

        // –•–æ–≤–∞—î–º–æ —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
        const loadingIndicator = document.getElementById('initial-loading');
        if (loadingIndicator) {
            loadingIndicator.style.opacity = '0';
            setTimeout(() => {
                loadingIndicator.style.display = 'none';
            }, 300);
        }
    }

    // –î–µ—è–∫—ñ –∑–∞–≥–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ UI
    let dailyBonusInitialized = false;

    // –ü—ñ—Å–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è DOM
    document.addEventListener('DOMContentLoaded', async () => {
        console.log('üì± WINIX - –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –∑–∞–≤–¥–∞–Ω—å');

        // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ, —á–∏ –≤–¥–∞–ª–æ—Å—è —ñ–º–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ —Å–∏—Å—Ç–µ–º—É –∑–∞–≤–¥–∞–Ω—å
        if (!importSuccess) {
            console.warn('‚ö†Ô∏è –ü—Ä–æ–ø—É—Å–∫–∞—î–º–æ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—é —á–µ—Ä–µ–∑ –ø–æ–º–∏–ª–∫—É —ñ–º–ø–æ—Ä—Ç—É');
            hideLoadingIndicator();
            return;
        }

        try {
            // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î–º–æ —Å–∏—Å—Ç–µ–º—É –∑–∞–≤–¥–∞–Ω—å
            const initialized = await taskSystem.initialize({
                forceRefresh: false,
                ui: {
                    animations: {
                        enabled: true,
                        performanceMode: window.innerWidth < 768 // –†–µ–∂–∏–º –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ –Ω–∞ –º–æ–±—ñ–ª—å–Ω–∏—Ö
                    }
                }
            });

            if (initialized) {
                console.log('‚úÖ –°–∏—Å—Ç–µ–º–∞ –∑–∞–≤–¥–∞–Ω—å —É—Å–ø—ñ—à–Ω–æ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–∞');

                // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î–º–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ —â–æ–¥–µ–Ω–Ω–æ–≥–æ –±–æ–Ω—É—Å—É
                initializeDailyBonus();

                // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î–º–æ –≤–∫–ª–∞–¥–∫–∏
                initializeTabs();

                // –•–æ–≤–∞—î–º–æ —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
                hideLoadingIndicator();
            } else {
                console.error('‚ùå –ü–æ–º–∏–ª–∫–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó —Å–∏—Å—Ç–µ–º–∏ –∑–∞–≤–¥–∞–Ω—å');
                showErrorMessage('–ù–µ –≤–¥–∞–ª–æ—Å—è –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ —Å–∏—Å—Ç–µ–º—É –∑–∞–≤–¥–∞–Ω—å. –°–ø—Ä–æ–±—É–π—Ç–µ –æ–Ω–æ–≤–∏—Ç–∏ —Å—Ç–æ—Ä—ñ–Ω–∫—É.');
            }
        } catch (error) {
            console.error('‚ùå –ö—Ä–∏—Ç–∏—á–Ω–∞ –ø–æ–º–∏–ª–∫–∞:', error);
            showErrorMessage('–í–∏–Ω–∏–∫–ª–∞ –ø–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ –¥–∞–Ω–∏—Ö');
        }
    });

        /**
         * –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Å–∏—Å—Ç–µ–º–∏ –≤–∫–ª–∞–¥–æ–∫
         */
        function initializeTabs() {
            const tabs = document.querySelectorAll('.tab');
            const contentSections = document.querySelectorAll('.content-section');

            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const tabType = tab.getAttribute('data-tab');

                    // –ó–º—ñ–Ω—é—î–º–æ –∞–∫—Ç–∏–≤–Ω—É –≤–∫–ª–∞–¥–∫—É
                    tabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');

                    // –ó–º—ñ–Ω—é—î–º–æ –≤–∏–¥–∏–º–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç
                    contentSections.forEach(section => {
                        section.classList.remove('active');
                        if (section.id === `${tabType}-content`) {
                            section.classList.add('active');
                        }
                    });

                    // –ü–æ–≤—ñ–¥–æ–º–ª—è—î–º–æ —Å–∏—Å—Ç–µ–º—É –∑–∞–≤–¥–∞–Ω—å –ø—Ä–æ –∑–º—ñ–Ω—É –≤–∫–ª–∞–¥–∫–∏
                    if (taskSystem && taskSystem.setActiveTab) {
                        taskSystem.setActiveTab(tabType);
                    }
                });
            });
        }

        /**
         * –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —â–æ–¥–µ–Ω–Ω–æ–≥–æ –±–æ–Ω—É—Å—É
         */
        function initializeDailyBonus() {
            if (dailyBonusInitialized) return;

            // –û—Ç—Ä–∏–º—É—î–º–æ –µ–ª–µ–º–µ–Ω—Ç–∏
            const claimButton = document.getElementById('claim-daily');
            const progressContainer = document.getElementById('daily-progress-container');

            if (!claimButton || !progressContainer) {
                console.warn('‚ö†Ô∏è –ï–ª–µ–º–µ–Ω—Ç–∏ —â–æ–¥–µ–Ω–Ω–æ–≥–æ –±–æ–Ω—É—Å—É –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ');
                return;
            }

            // –°—Ç–≤–æ—Ä—é—î–º–æ –∫–∞–ª–µ–Ω–¥–∞—Ä –±–æ–Ω—É—Å—ñ–≤ –Ω–∞ 7 –¥–Ω—ñ–≤
            createDailyBonusCalendar(progressContainer);

            // –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î–º–æ —Å—Ç–∞–Ω —â–æ–¥–µ–Ω–Ω–æ–≥–æ –±–æ–Ω—É—Å—É
            loadDailyBonusStatus();

            // –î–æ–¥–∞—î–º–æ –æ–±—Ä–æ–±–Ω–∏–∫ –∫–ª—ñ–∫—É –Ω–∞ –∫–Ω–æ–ø–∫—É –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –±–æ–Ω—É—Å—É
            claimButton.addEventListener('click', claimDailyBonus);

            // –ü–æ–∑–Ω–∞—á–∞—î–º–æ, —â–æ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ
            dailyBonusInitialized = true;
        }

        /**
         * –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è —â–æ–¥–µ–Ω–Ω–æ–≥–æ –±–æ–Ω—É—Å—É
         * @param {HTMLElement} container - –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è
         */
        function createDailyBonusCalendar(container) {
            // –û—á–∏—â–∞—î–º–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
            container.innerHTML = '';

            // –°—Ç–≤–æ—Ä—é—î–º–æ 7 –¥–Ω—ñ–≤
            for (let i = 1; i <= 7; i++) {
                const dayElement = document.createElement('div');
                dayElement.className = 'daily-day';
                dayElement.dataset.day = i;

                const dayCircle = document.createElement('div');
                dayCircle.className = 'day-circle';
                dayCircle.textContent = i;

                // –î–æ–¥–∞—î–º–æ –º—ñ—Ç–∫—É —Ç–æ–∫–µ–Ω–∞ –Ω–∞ –∫–æ–∂–µ–Ω 7-–π –¥–µ–Ω—å
                if (i % 7 === 0) {
                    const tokenBadge = document.createElement('div');
                    tokenBadge.className = 'token-badge-small';
                    tokenBadge.textContent = '‚≠ê';
                    dayCircle.appendChild(tokenBadge);
                }

                const dayReward = document.createElement('div');
                dayReward.className = 'day-reward';

                // –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ –≤–∏–Ω–∞–≥–æ—Ä–æ–¥—É (–º–æ–¥–µ–ª—å –Ω–∞–≥–æ—Ä–æ–¥: –¥–µ–Ω—å 7 = 50 –∂–µ—Ç–æ–Ω—ñ–≤, —ñ–Ω—à—ñ –¥–Ω—ñ = 10)
                const rewardAmount = i % 7 === 0 ? 50 : 10;
                dayReward.textContent = `${rewardAmount} ‚Ç¥`;

                dayElement.appendChild(dayCircle);
                dayElement.appendChild(dayReward);
                container.appendChild(dayElement);
            }
        }

        /**
         * –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—É —â–æ–¥–µ–Ω–Ω–æ–≥–æ –±–æ–Ω—É—Å—É
         */
        async function loadDailyBonusStatus() {
            try {
                // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å API –¥–ª—è —â–æ–¥–µ–Ω–Ω–æ–≥–æ –±–æ–Ω—É—Å—É
                if (!taskSystem.dailyBonus || !taskSystem.dailyBonus.getStatus) {
                    console.warn('‚ö†Ô∏è API —â–æ–¥–µ–Ω–Ω–æ–≥–æ –±–æ–Ω—É—Å—É –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–µ');
                    return;
                }

                // –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î–º–æ —Å—Ç–∞—Ç—É—Å
                const response = await taskSystem.dailyBonus.getStatus();

                if (response.success) {
                    updateDailyBonusUI(response.data);
                } else {
                    console.warn('‚ö†Ô∏è –ü–æ–º–∏–ª–∫–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—É —â–æ–¥–µ–Ω–Ω–æ–≥–æ –±–æ–Ω—É—Å—É:', response.message);
                }
            } catch (error) {
                console.error('‚ùå –ü–æ–º–∏–ª–∫–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —â–æ–¥–µ–Ω–Ω–æ–≥–æ –±–æ–Ω—É—Å—É:', error);
            }
        }

        /**
         * –û—Ç—Ä–∏–º–∞–Ω–Ω—è —â–æ–¥–µ–Ω–Ω–æ–≥–æ –±–æ–Ω—É—Å—É
         */
        async function claimDailyBonus() {
            const claimButton = document.getElementById('claim-daily');

            if (!claimButton || claimButton.disabled) return;

            try {
                // –ü–æ–∫–∞–∑—É—î–º–æ —Å—Ç–∞–Ω –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
                claimButton.disabled = true;
                claimButton.classList.add('processing');
                claimButton.textContent = '–û—Ç—Ä–∏–º–∞–Ω–Ω—è...';

                // –í–∏–∫–ª–∏–∫–∞—î–º–æ API –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –±–æ–Ω—É—Å—É
                const result = await taskSystem.claimDailyBonus();

                if (result.success) {
                    // –û–Ω–æ–≤–ª—é—î–º–æ UI
                    updateDailyBonusUI({
                        ...result.data,
                        claimed_today: true
                    });

                    // –ü–æ–∫–∞–∑—É—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ —É—Å–ø—ñ—Ö
                    showSuccessMessage(`–©–æ–¥–µ–Ω–Ω–∏–π –±–æ–Ω—É—Å –æ—Ç—Ä–∏–º–∞–Ω–æ: +${result.data.amount} –∂–µ—Ç–æ–Ω—ñ–≤!`);

                    // –û–Ω–æ–≤–ª—é—î–º–æ –±–∞–ª–∞–Ω—Å (–∞–Ω—ñ–º–æ–≤–∞–Ω–æ)
                    updateBalanceUI(result.data.amount);
                } else {
                    // –ü–æ–∫–∞–∑—É—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫—É
                    showErrorMessage(result.message || '–ù–µ –≤–¥–∞–ª–æ—Å—è –æ—Ç—Ä–∏–º–∞—Ç–∏ —â–æ–¥–µ–Ω–Ω–∏–π –±–æ–Ω—É—Å');
                }
            } catch (error) {
                console.error('‚ùå –ü–æ–º–∏–ª–∫–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —â–æ–¥–µ–Ω–Ω–æ–≥–æ –±–æ–Ω—É—Å—É:', error);
                showErrorMessage('–ü–æ–º–∏–ª–∫–∞ –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —â–æ–¥–µ–Ω–Ω–æ–≥–æ –±–æ–Ω—É—Å—É');
            } finally {
                // –í—ñ–¥–Ω–æ–≤–ª—é—î–º–æ –∫–Ω–æ–ø–∫—É
                const claimButton = document.getElementById('claim-daily');
                if (claimButton) {
                    claimButton.disabled = false;
                    claimButton.classList.remove('processing');
                    claimButton.textContent = '–û—Ç—Ä–∏–º–∞—Ç–∏ –±–æ–Ω—É—Å';
                }
            }
        }

        /**
         * –û–Ω–æ–≤–ª–µ–Ω–Ω—è UI —â–æ–¥–µ–Ω–Ω–æ–≥–æ –±–æ–Ω—É—Å—É
         * @param {Object} data - –î–∞–Ω—ñ —â–æ–¥–µ–Ω–Ω–æ–≥–æ –±–æ–Ω—É—Å—É
         */
        function updateDailyBonusUI(data) {
            if (!data) return;

            const { current_day = 1, claimed_today = false, streak = 0 } = data;
            const claimButton = document.getElementById('claim-daily');
            const progressContainer = document.getElementById('daily-progress-container');

            if (!claimButton || !progressContainer) return;

            // –û–Ω–æ–≤–ª—é—î–º–æ –¥–Ω—ñ
            const dayElements = progressContainer.querySelectorAll('.daily-day');
            dayElements.forEach(dayElement => {
                const day = parseInt(dayElement.dataset.day);
                const dayCircle = dayElement.querySelector('.day-circle');

                // –í–∏–¥–∞–ª—è—î–º–æ –≤—Å—ñ –∫–ª–∞—Å–∏ —Å—Ç–∞–Ω—É
                dayCircle.classList.remove('active', 'completed', 'current');

                if (day < current_day) {
                    // –ü–æ–ø–µ—Ä–µ–¥–Ω—ñ –¥–Ω—ñ (–æ—Ç—Ä–∏–º–∞–Ω—ñ)
                    dayCircle.classList.add('completed');
                } else if (day === current_day) {
                    // –ü–æ—Ç–æ—á–Ω–∏–π –¥–µ–Ω—å
                    dayCircle.classList.add('current');

                    // –Ø–∫—â–æ –≤–∂–µ –æ—Ç—Ä–∏–º–∞–Ω–æ —Å—å–æ–≥–æ–¥–Ω—ñ
                    if (claimed_today) {
                        dayCircle.classList.add('completed');
                    } else {
                        dayCircle.classList.add('active');
                    }
                }
            });

            // –û–Ω–æ–≤–ª—é—î–º–æ –∫–Ω–æ–ø–∫—É
            if (claimed_today) {
                claimButton.disabled = true;
                claimButton.classList.add('disabled');
                claimButton.textContent = '–í–∂–µ –æ—Ç—Ä–∏–º–∞–Ω–æ';
            } else {
                claimButton.disabled = false;
                claimButton.classList.remove('disabled');
                claimButton.textContent = '–û—Ç—Ä–∏–º–∞—Ç–∏ –±–æ–Ω—É—Å';
            }
        }

        /**
         * –û–Ω–æ–≤–ª–µ–Ω–Ω—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –±–∞–ª–∞–Ω—Å—É
         * @param {number} amount - –°—É–º–∞ –¥–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è
         */
        function updateBalanceUI(amount) {
            const userCoins = document.getElementById('user-coins');
            if (!userCoins) return;

            // –û—Ç—Ä–∏–º—É—î–º–æ –ø–æ—Ç–æ—á–Ω–µ –∑–Ω–∞—á–µ–Ω–Ω—è
            const currentValue = parseInt(userCoins.textContent) || 0;

            // –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ –Ω–æ–≤–µ –∑–Ω–∞—á–µ–Ω–Ω—è
            userCoins.textContent = currentValue + amount;

            // –î–æ–¥–∞—î–º–æ –∫–ª–∞—Å –¥–ª—è –∞–Ω—ñ–º–∞—Ü—ñ—ó
            userCoins.classList.add('balance-increased');

            // –í–∏–¥–∞–ª—è—î–º–æ –∫–ª–∞—Å —á–µ—Ä–µ–∑ 1.5 —Å–µ–∫—É–Ω–¥–∏
            setTimeout(() => {
                userCoins.classList.remove('balance-increased');
            }, 1500);
        }

        /**
         * –ü–æ–∫–∞–∑–∞—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ —É—Å–ø—ñ—Ö
         * @param {string} message - –¢–µ–∫—Å—Ç –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
         */
        function showSuccessMessage(message) {
            const toast = document.getElementById('toast-message');
            if (!toast) return;

            toast.textContent = message;
            toast.className = 'toast-message toast-success show';

            setTimeout(() => {
                toast.className = 'toast-message';
            }, 3000);
        }

        /**
         * –ü–æ–∫–∞–∑–∞—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ–º–∏–ª–∫—É
         * @param {string} message - –¢–µ–∫—Å—Ç –ø–æ–º–∏–ª–∫–∏
         */
        function showErrorMessage(message) {
            const toast = document.getElementById('toast-message');
            if (!toast) return;

            toast.textContent = message;
            toast.className = 'toast-message toast-error show';

            setTimeout(() => {
                toast.className = 'toast-message';
            }, 3000);
        }

        /**
         * –°—Ö–æ–≤–∞—Ç–∏ —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
         */
        function hideLoadingIndicator() {
            const loadingIndicator = document.getElementById('initial-loading');
            if (loadingIndicator) {
                // –ü–ª–∞–≤–Ω–æ –ø—Ä–∏—Ö–æ–≤—É—î–º–æ
                loadingIndicator.style.opacity = '0';

                // –ü—ñ—Å–ª—è –∑–∞–∫—ñ–Ω—á–µ–Ω–Ω—è –∞–Ω—ñ–º–∞—Ü—ñ—ó –≤–∏–¥–∞–ª—è—î–º–æ –∑ DOM
                setTimeout(() => {
                    loadingIndicator.style.display = 'none';
                }, 300);
            }
        }
    </script>
</body>
</html>